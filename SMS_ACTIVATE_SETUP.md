# Настройка SMS-Activate для автоматической регистрации Discord

## Шаг 1: Регистрация на SMS-Activate

1. Перейдите на сайт [SMS-Activate.org](https://sms-activate.org/)
2. Зарегистрируйте аккаунт
3. Пополните баланс (минимум ~15-20 рублей для теста)

## Шаг 2: Получение API ключа

1. Войдите в личный кабинет
2. Перейдите в раздел **API** в верхнем меню
3. Скопируйте ваш API ключ

## Шаг 3: Настройка проекта

1. Создайте файл `keys/sms_activate.txt` в корне проекта
2. Вставьте ваш API ключ в этот файл (только ключ, без лишних символов)

Пример содержимого файла:
```
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
```

## Шаг 4: Установка зависимостей

Добавьте в `requirements.txt`:
```
requests
```

Установите:
```bash
pip install requests
```

## Шаг 5: Проверка работы

Запустите тестовый скрипт:
```bash
python src/sms/sms_activate.py
```

Вы должны увидеть:
- Ваш текущий баланс
- Полученный номер телефона
- ID активации

## Использование в коде

```python
from src.sms import SMSActivateClient

# Инициализация клиента
client = SMSActivateClient()

# Проверка баланса
balance = client.get_balance()
print(f"Баланс: {balance} руб.")

# Получение номера для Discord
activation_id, phone = client.get_number()
print(f"Номер: {phone}")

# Ожидание SMS кода (до 5 минут)
code = client.wait_for_code(activation_id, timeout=300)

if code:
    print(f"Код: {code}")
    # Используйте код в Discord
    # ...
    # После успешного использования:
    client.complete_activation(activation_id)
else:
    print("Код не получен")
```

## Цены на Discord (примерно)

- Россия: ~15-20 руб за номер
- Другие страны: могут быть дороже

Проверить актуальные цены можно в личном кабинете SMS-Activate.

## Важные замечания

1. **Файл `keys/sms_activate.txt` уже добавлен в `.gitignore`** - не коммитьте его!
2. **Не храните API ключ в коде** - только в файле или переменной окружения
3. **Всегда завершайте активацию** вызовом `complete_activation()` или `cancel_activation()`
4. **Проверяйте баланс** перед массовой регистрацией
5. **Один номер используется только один раз** для конкретного сервиса

## Коды стран (country parameter)

- 0 - Россия
- 1 - Украина  
- 2 - Казахстан
- 16 - Англия
- 187 - Вьетнам
- и т.д.

Полный список кодов стран доступен в [документации SMS-Activate](https://sms-activate.org/ru/api2).

## Troubleshooting

**"NO_BALANCE"** - Пополните баланс  
**"NO_NUMBERS"** - Нет доступных номеров, попробуйте позже или выберите другую страну  
**"BAD_KEY"** - Неверный API ключ  
**"Время вышло"** - SMS не пришла за отведенное время, активация автоматически отменена
